# Splendor v3.8 版本迭代计划与需求文档

**版本**: v3.8-dev
**日期**: 2026-01-16
**目标**: 优化本地游戏体验，实现自由配置的"本地多人/人机对战"功能。

## 1. 需求梳理 (Requirements Analysis)

### 1.1 菜单重构
*   **原 "单人游戏"** -> **"本地游戏 (Local Game)"**
    *   定义: 运行在本地设备上的游戏，支持 Hotseat 模式。
*   **原 "多人大厅"** -> **"线上游戏 (Online Game)"**

### 1.2 本地游戏设置 (Local Game Setup)
*   **人数**: 2 - 4 人。
*   **构成**: 任意组合 (如 2 人类, 1 人类 vs 2 电脑)。
*   **配置**:
    *   人类: 自定义昵称。
    *   电脑: 选择难度。

### 1.3 游戏内体验 (In-Game Experience)
*   **Hotseat**: 只有一台设备，轮流操作。
*   **Transparency (公开信息)**: 所有玩家的手牌、资源完全公开 (即使是保留卡)。

## 2. 开发流程 (Development Protocol) - Updated

引入 **Agent Skills** 辅助开发：

### 2.1 启动任务
*   **Skill**: `start_feature_branch`
*   **操作**: 每次开始新 Phase，都应确保在正确的分支 (如 `feature/local-setup`)。

### 2.2 过程检查
*   **Skill**: `verify_project`
*   **操作**: 在完成一个 Phase 后，运行此 skill 确保没有引入 errors。

### 2.3 角色定义 (不变)
*   **Coordinator**: 负责调用 Skills 和管理进度。
*   **Engineer**: 负责具体代码实现。
*   **Tester**: 负责验证。

## 3. 实施计划 (Implementation Plan)

### Phase 1: 菜单与路由重构
*   目标: `WelcomePage` 改造。
*   Skill: `start_feature_branch` -> `feature/v3.8-menu`.

### Phase 2: 本地游戏配置页面
*   目标: 新建 `LocalGameSetupPage`。
*   细节: 动态列表 (Add/Remove Player)。

### Phase 3: 游戏核心适配
*   目标: `GamePage` 支持多人类玩家 (Hotseat UI)。

## 4. 提示词 (Prompts for Agent)

(保留原有的 Prompt 模板，执行时结合 Agent Skills)
